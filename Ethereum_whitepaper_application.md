<h1>Ethereum white paper 정리</h1>
<h2>어플리케이션</h2>
이더리움 상 어플리케이션은 금융, 반금융, 비금융 총 3가지 타입이 있다. 반금융 어플리케이션은, 돈과 관련되어 있긴 하지만 돈만으로 이루어지지 않은 것들이고, 비금융 어플리케이션의 대표적인 예시는 온라인 투표가 있다.</br>
</br>

<h2>토큰 시스템</h2>
On-blockchain 토큰 시스템은 기존 화폐와 연관된 서브화폐 자산, 주식, 개인 토큰 등 다양한 어플리케이션을 갖추고 있다.</br>
</br>

<h2>금융 파생상품과 스테이블-벨류 화폐</h2>
스마트 컨트랙트로 금융 파생상품을 구현하는 것이 가장 쉬운 방식 중 하나다. 어려운 점이 있다면 외부 가격 티커(가격 표시 전산기)가 필요하다는 점이다.</br>
예를 들어 암호화폐의 가격 변동성에 대한 헤징(현물의 가격 손실을 막기 위해 선물로 파는 일)을 위한 스마트 컨트랙트가 있는데 이를 위해서는 ETH/USD 값을 알아야 한다.</br>
이를 위해선 특정 그룹(나스닥 등)이 데이터 제공 계약을 관리하고, 다른 계약이 메시지를 보냈을 때 해당 값을 응답으로써 반환하는 인터페이스를 제공 해야한다.</br>
위 조건을 만족시킬 때 헤징 계약은 다음과 같다 : </br>
<ol>
  <li>A그룹이 1000ETH를 입력할 때까지 대기</li>
  <li>B그룹이 1000ETH를 입력할 때까지 대기</li>
  <li>데이터 제공 계약 확인 후, 1000ETH의 USD 가치를 기록.</li>
  <li>30일 후 ETH의 USD 가치를 A에 보내고 차액은 B에 보내도록 A or B의 계약을 재활성화</li>
</ol>
위와 같은 계약은 암호화폐의 가장 큰 문제라고 말하는 가격 변동성에 대해 엄청난 잠재성을 지닌다. 이전에 발행자가 신뢰성이 있다는 가정하에 제시된 해결책인 발행자 보증 자산 방식이 있다.</br>
그러나 모든 발행자를 신뢰할 수 있는 것은 아니며, 금융 인프라가 취약하거나, 해당 서비스가 존재하기에 적대적인 경우도 있다.</br>
금융 파생상품이 여기서 대안이 될 수 있는데, 단일 발행자가 자산을 지지하기 위해 자금을 제공하는 대신 암호화폐 관련 자산 가격이 올라갈 것에 배팅한 금융시장 참여자들이 그 역할을 한다.</br>
헤징 계약은 자산을 에스크로로 가지고 있기 때문에 발행자와 다르게 참여자들은 사익을 추구할 방법이 없다. 이를 위해선 가격 티커라는 외부 신뢰 요소가 필요하다는 점에서 완전한 탈중앙화를 이루었다라고는 할 수 없지만, 필요한 금융 인프라 및 사기 가능성을 줄이는 면에서 큰 발전이 있다고 여겨진다.</br>
</br>

<h2>정체성과 평가 시스템</h2>
최초의 대안 네임코인은 사용자가 자신의 이름과 같은 데이터를 공개된 DB에 저장하는 방식의 이름 등록 시스템을 구축하기 위해 비트코인과 비슷한 블록체인 기술을 시도하였다.</br>
대표적으로 DNS 시스템을 이용하는건데, 도메인 네임과 IP주소를 연결하는 것이었다. 이러한 등록 시스템을 이더리움 상에서 간단한 계약으로 만들 수 있다.</br>
추가는 가능하되 수정, 삭제가 불가능한 이더리움 네트워크 안에 DB를 이용하면 된다. 더 정교한 이름 등록 계약은 함수 조항이 있어서 다른 계약의 요청을 수행할 수도 있는데, </br>
해당 이름의 소유자가 데이터나 소유권을 이전할 수 있도록하는 메커니즘과 같은 것들을 수행할 수 있다.</br>
</br>

<h2>탈중앙화 된 파일 스토리지</h2>
기존 파일 스토리지 시장은 가격 측면에서 상대적으로 비효율적이다. 이더리움 계약을 활용하면 사용자들이 자신의 하드디스크에서 사용하지 않는 공간을 빌려주고 보상으로 돈을 받는 형태의 탈중앙화된 저장 공간 생태계를 만들 수 있고, 가격을 크게 낮출 수 있다.</br>
데이터를 여러개로 쪼개고, 보안을 위해 해시화하고, 이 블록들로 머클트리를 만든다. 이후 만들어진 트리에서 n개의 블록들마다 랜덤 인덱스를 정하고, 이 인덱스에 해당하는 블록의 소유권에 대해 간단한 결제 검증 증명을 제공하는 첫 번째 참여자에게 X이더를 제공한다는 계약을 생성한다.</br>
사용자가 다시 다운로드하고 싶을 때는 마이크로 결제 프로토콜을 사용하여 해당 파일을 복구한다. 수수료를 가장 많이 낮추는 방법은 지불을 위한 거래를 최대한 늦추면서, 32kb마다 더 낮은 gas값의 거래가 있는지 확인하고, 있을 씨 nonce 값을 유지한 채 이 거래로 대체하는 것이다.</br>
여러 랜덤 노드를 신뢰 해야한다고 보여지지만 실제로 파일을 여러 조각으로 나누어 저장하고, 잘 저장되어 있는지 계약으로 확인하기 때문에 그럴 필요없다.</br>
</br>

<h2>DAO(탈중앙화 된 자율 조직)</h2>
DAO는 67% 이상이 모일 시 조직의 자금을 소비하고 코드를 수정할 수 있는 권리를 가지게 되는 가상의 조직이다. 구성원들이 모여서 조직이 자금을 어떻게 배분해야 하는지 결정하게 된다.</br>
자금 분배 방법으로 보상, 급여 등이 가능하고, 보상을 위한 내부 화폐 이용 등도 있다. 이 방법 자체는 이전부터 사용했지만, 이를 집행하기 위해 암호화 된 블록체인을 사용한다는게 다르다.</br>
코드 자체는 수정이 불가하지만, 수정이 가능한 저장공간에 특정 주소를 지정하고, 이 주소에 접근할 수 있는 코드를 별도 계약에 삽입 해놓음으로써 구현 가능하다.</br>
이러한 계약은 데이터 형태에 따라 3가지 유형이 있다 : </br>
<li>인덱스 i로 제안을 등록하여 저장공간 인덱스 k의 주소를 값 v로 변경ㅇ하기위한 [0,i,k,v]</li>
<li>[1,i] 제안에 찬성하는 표를 던진다</li>
<li>[2,i] 제안 완료하기 충분한 표가 모아짐</li>
그런 다음 계약은 각각에 대한 조항을 담게 되고, 모든 공개된 저장 공간 변화 이력 등을 기록 할 것이다. 저장 공간 수정에 대해 2/3 이상의 구성원이 투표할 경우 최종 집행을 위한 거래가 실행되어 해당 수정 사항을 수행할 것이다.</br>
더 발전된 형태로 구성원 추가, 제외 기능을 위한 투표 시스템, 투표권 위임 등이 있다.</br>
</br>
